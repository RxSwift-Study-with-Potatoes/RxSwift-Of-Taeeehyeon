# 필터링 연산자 (Filtering Operators)

연산자(Operators)중 필터링 연산자(Filtering Operators)에 대해서 알아봅시다.

- **기간 :** 2021.04.29(목) ~ 2021.05.04(화)  
- **작성자 :** 김태현

<br>

## 들어가기전에
```
자 RxSwift의 필터링 연산자에 대해서 알아보겠습니다~~~
여러분, 필터링이라는 단어를 보면 어떤 생각이 드시나요 👀
👉 '어떤 것을 거른다', '조건에 맞게 제한하고 싶다' 요런 느낌이 드시나요?

아직 느낌이 안 온다구요? 그럼 예시를 하나 들어보도록 하겠습니다.
우리가 검색을 할 때를 생각해보면 수많은 데이터 중에 내가 원하는 데이터만 얻기 위해서
검색어의 제한을 두거나, 스스로의 조건에 맞게 정보를 거르는 작업을 하죠??

필터링 연산자도 같습니다. 전달 받은 데이터, 스트림 등등에서 
원하는 데이터만 뽑아내고 싶을 때 사용하는 장치라고 생각하면 조금 나을 것 같은데요🤔

아직도 느낌이 안 오신다구요??? 괜찮습니다~!~!~! 지금 바로 알아보도록 할거니까요🥳
```

<br>

오늘은 아래 11가지 연산자에 대해서 알아볼거에요!

- [ ] ignoreElements
- [ ] elementAt
- [ ] filter
- [ ] skip
- [ ] skipWhile
- [ ] skipUntil
- [ ] take
- [ ] takeWhile
- [ ] takeUntil
- [ ] takeLast
- [ ] enumerated
- [ ] distinctUntilChanged

`takeLast`, `single`, `debounce`, `throttle` 요런 친구들도 있는데 얘네는 추가로 업데이트 해보겠습니다.  
우선은 위에 있는 친구들만 보아도 될 것 같아요🙂

<br>

## 필터링 연산자
연산자는 4가지 박자에 맞춰 정리해보겠습니다 ~~!!
1) 마블 다이어그램 (Marble Diagram)
   - 마블 다이어그램, Rx를 공부하면 마주쳐야만 하는 친구 / 이해가 안되면 이 표·그림을 보면 이해가 된다.
2) 간단한 설명
   - 설명 같은 경우는 제 의식의 흐름이나 다른 분의 설명을 참고해서 작성할거에요👍
3) 실행코드 
   - 솔직히 워낙 잘 만들어져있는 예시들이 많아서 대부분은 그대로 이용할 것 같고, 그렇지 않은 경우도...
4) 실행결과 ⭐️
   - **결과 같은 경우는 한 번 미리 예측해보고** 내가 생각한 내용이랑 같은지 생각해봅시다!!
   - **실제 코드는 프로젝트에 있으니 한 번 실행시켜보면서 코드 바꿔보기!!**

아이고,, 서론이 너무 길었다.. 바로 후다닥 가봅시다🙊

### 1. ignoreElements()
`다 무시해`, `종료 알림만 내보내`  
<img width="640" alt="ignoreElements c" src="https://user-images.githubusercontent.com/61109660/117568417-0f9a9180-b0fb-11eb-84a2-a320e73cc5ec.png">  

- **특징**
  - subscribe 하고 있는 라인에서 어떠한 데이터도 이벤트도 전달받지 못하고 무시된다.
  - .next이벤트를 무시한다.
  - 종료(.completed)나 에러(.error)와 같은 정지 이벤트만 허용된다.

- **간단요약**
  - 옵저버블에서 내보내는 항목에 대해서는 신경쓰지 않지만 **🐶 완료 될 때** 또는 **오류로 종료 될 때**의 알림을 받고 싶다면 사용 고고

- **실행코드**
  ```swift
  let strikes:[String] = ["X", "X", "X"]

  Observable.from(strikes)
      .ignoreElements()
      .subscribe(onNext: { _ in
      // print("(event) you're out!")
      }, onCompleted: {
      // print("(complete) you're out!")
      })
      .disposed(by: disposeBag)
  ```
- **실행결과**
  - onNext 이벤트와 onCompleted 이벤트에 있는 주석을 하나씩 풀고 생각해봅시다.
  ```
  1. onNext 이벤트의 프린트 문만 주석 풀었을 때
  // (... 아무 결과 없음...)
  
  2. onCompleted 이벤트의 프린트 문만 주석 풀었을 때
  // (complete) you're out!
  ```
  
 
### 2. element(at: index) 👈 elementAt()
`특정 녀석만 원해`, `너 나와😠`  
<img width="640" alt="ignoreElements c" src="https://user-images.githubusercontent.com/61109660/117568858-b5e79680-b0fd-11eb-8b21-9953e60b416f.png">  

- **특징**
  - 특정 요소만 처리하고 싶을 때 사용한다.
  - 정수 인덱스를 파라미터로 받아서 하나의 요소만을 방출한다.
  - 요소 하나를 방출하는 시점에 Completed 된다.(될거야...)

- **간단요약**
  - **하나**만 뽑아내고 싶을 때 사용!! 인덱스 여러 개는 못 써요~

- **실행코드**
  ```swift
  let strikes:[String] = ["1X", "2X", "3X"]

  Observable.from(strikes)
      .element(at: 1)
      .subscribe(onNext : { n in
          print("\(n) You're out!")
      })
      .disposed(by: disposeBag)
  ```
- **실행결과**
  - 다음 예시에서는 1번째 원소는 스트림에 값이 넘어가는 것을 확인할 수 있다.
  ```
  2X You're out!
  ```
  
### 3. filter()
`조건을 통과한 녀석들만..`, `숙제 다한 녀석들만 집에 갈 수 있다😱`  
<img width="640" alt="filter" src="https://user-images.githubusercontent.com/61109660/117569020-79686a80-b0fe-11eb-89c8-26fae237ffd1.png">  

- **특징**
  - filter 연산자는 클로저를 파라미터로 받는다. 클로저에서 True 판정을 받은 값만 다음 스트림으로 넘겨줄거야.
  - True 일 때만 값을 내려보내고, False 일 때는 값을 내려보내지 않는다.

- **간단요약**
  - 내가 원하는 조건을 작성해서 데이터를 걸러주면 되겠죠??
  - 제가 생각했을 때 이 녀석을 정말 많이 볼 것 같은 느낌이 드네요..ㅎㅎ

- **실행코드**
  ```swift
  Observable.from([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
      // True일때만 값을 밑으로 내려보내고, False일때는 내려보내지 않는다.
      .filter{ $0 % 2 == 0 }
      .subscribe(onNext: { n in
          print(n)
      })
      .disposed(by: disposeBag)
  ```
- **실행결과**
  - 짝수만 걸러지는 것을 확인할 수 있습니다~
  ```
  2
  4
  6
  8
  10
  ```
